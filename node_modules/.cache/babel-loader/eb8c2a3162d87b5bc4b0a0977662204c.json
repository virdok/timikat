{"ast":null,"code":"import _slicedToArray from \"/home/dkirchan/timikat/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _s = $RefreshSig$();\n\nimport { useEffect } from \"react\";\nimport useLocalStorage from \"./useLocalStorage\";\n\nfunction useSettingsState(key, initialValue) {\n  _s();\n\n  var _useLocalStorage = useLocalStorage(key, initialValue),\n      _useLocalStorage2 = _slicedToArray(_useLocalStorage, 2),\n      value = _useLocalStorage2[0],\n      setValue = _useLocalStorage2[1];\n\n  useEffect(function () {\n    // Set data attribute on body element\n    document.body.dataset[key] = value; // Replace style sheet if dark theme gets toggled\n\n    if (key === \"theme\") {\n      var theme = value === \"dark\" ? \"dark\" : \"light\";\n      var stylesheet = document.querySelector(\".js-stylesheet\");\n      stylesheet.setAttribute(\"href\", \"/css/\".concat(theme, \".css\"));\n    }\n  }, [value, key]);\n  return [value, setValue];\n}\n\n_s(useSettingsState, \"9xQdYIk2Z1VL79v3zI5z2n9IgQA=\", false, function () {\n  return [useLocalStorage];\n});\n\nexport default useSettingsState;","map":{"version":3,"sources":["/home/dkirchan/timikat/src/hooks/useSettingsState.js"],"names":["useEffect","useLocalStorage","useSettingsState","key","initialValue","value","setValue","document","body","dataset","theme","stylesheet","querySelector","setAttribute"],"mappings":";;;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,eAAP,MAA4B,mBAA5B;;AAEA,SAASC,gBAAT,CAA0BC,GAA1B,EAA+BC,YAA/B,EAA6C;AAAA;;AAC3C,yBAA0BH,eAAe,CAACE,GAAD,EAAMC,YAAN,CAAzC;AAAA;AAAA,MAAOC,KAAP;AAAA,MAAcC,QAAd;;AAEAN,EAAAA,SAAS,CAAC,YAAM;AACd;AACAO,IAAAA,QAAQ,CAACC,IAAT,CAAcC,OAAd,CAAsBN,GAAtB,IAA6BE,KAA7B,CAFc,CAId;;AACA,QAAIF,GAAG,KAAK,OAAZ,EAAqB;AACnB,UAAMO,KAAK,GAAGL,KAAK,KAAK,MAAV,GAAmB,MAAnB,GAA4B,OAA1C;AACA,UAAMM,UAAU,GAAGJ,QAAQ,CAACK,aAAT,CAAuB,gBAAvB,CAAnB;AACAD,MAAAA,UAAU,CAACE,YAAX,CAAwB,MAAxB,iBAAwCH,KAAxC;AACD;AACF,GAVQ,EAUN,CAACL,KAAD,EAAQF,GAAR,CAVM,CAAT;AAYA,SAAO,CAACE,KAAD,EAAQC,QAAR,CAAP;AACD;;GAhBQJ,gB;UACmBD,e;;;AAiB5B,eAAeC,gBAAf","sourcesContent":["import { useEffect } from \"react\";\r\nimport useLocalStorage from \"./useLocalStorage\";\r\n\r\nfunction useSettingsState(key, initialValue) {\r\n  const [value, setValue] = useLocalStorage(key, initialValue);\r\n\r\n  useEffect(() => {\r\n    // Set data attribute on body element\r\n    document.body.dataset[key] = value;\r\n\r\n    // Replace style sheet if dark theme gets toggled\r\n    if (key === \"theme\") {\r\n      const theme = value === \"dark\" ? \"dark\" : \"light\";\r\n      const stylesheet = document.querySelector(\".js-stylesheet\");\r\n      stylesheet.setAttribute(\"href\", `/css/${theme}.css`);\r\n    }\r\n  }, [value, key]);\r\n\r\n  return [value, setValue];\r\n}\r\n\r\nexport default useSettingsState;\r\n"]},"metadata":{},"sourceType":"module"}